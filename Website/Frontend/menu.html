<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Base de Jeu Vidéo</title>
  <link rel="stylesheet" href="../Frontend/style.css">
</head>
<body>

<header>The Otterworld - Lexique</header>
<section class="description">



</section>

<nav>
  <ul>
    <li onclick="showSection('intro')">Introduction</li>
    <li onclick="showSection('faction')">Factions</li>
    <li onclick="showSection('univers')">Univers / Monde</li>
    <li onclick="showSection('personnage')">Personnages</li>
    <li onclick="showSection('gameplay')">Gameplay / Mécaniques</li>
    <li onclick="showSection('histoire')">Histoire / Lore</li>
    <li onclick="showSection('ressource')">Ressource / Économie</li>
    <li onclick="showSection('objectif')">Objectifs / Missions</li>
    <li onclick="showSection('technologie')">Technologie / Évolution</li>
  </ul>
</nav>

<main>
  <section id="intro" class="active">
    <h2>Introduction</h2>
    <p class="subtitle">Bienvenue dans la base de données du jeu vidéo "The Otterworld". Ce lexique regroupe toutes les informations essentielles sur les factions, l'univers, les personnages, le gameplay, l'histoire, les ressources, les objectifs et la technologie du jeu. Utilisez le menu pour naviguer entre les différentes sections et découvrir les détails de chaque aspect du jeu.</p>
    <p class="subtitle">Chaque section contient des descriptions claires et concises, ainsi que des liens vers des pages dédiées pour approfondir vos connaissances. Que vous soyez un joueur débutant ou un vétéran, ce lexique est conçu pour vous aider à mieux comprendre et apprécier l'univers riche et complexe de "The Otterworld". Bonne exploration !</p>
    <p class="subtitle">Résumé du jeu en une phrase : Incarnez des loutres dans un monde post-apocalyptique où vous devez reconstruire la civilisation, explorer des territoires hostiles, et interagir avec diverses factions pour survivre et prospérer.</p>
  
  </section>

  <section id="faction">
    <h2>Factions</h2>
    <p class="subtitle">Ensemble des races, organisations et groupes en interaction, qu’ils soient alliés ou rivaux.</p>
  </section>

  <section id="univers">
    <h2>Univers / Monde</h2>
    <p class="subtitle">Présentation de l’univers, des régions, et de l’histoire globale du monde.</p>
  </section>

  <section id="personnage">
    <h2>Personnages</h2>
    <p class="subtitle">Héros, ennemis et personnages secondaires, organisés par faction puis par ordre alphabétique.</p>
  </section>

  <section id="gameplay">
    <h2>Gameplay / Mécaniques</h2>
    <p class="subtitle">Descriptions des mécaniques de jeu et des systèmes propres aux différents styles de gameplay.</p>
  </section>

  <section id="histoire">
    <h2>Histoire / Lore</h2>
    <p class="subtitle">Récits, chronologie et éléments narratifs qui construisent le lore du jeu.</p>
  </section>

  <section id="ressource">
    <h2>Ressource / Économie</h2>
    <p class="subtitle">Liste des ressources disponibles, leurs modes d’acquisition et leur valeur selon chaque faction.</p>
  </section>

  <section id="objectif">
    <h2>Objectifs / Missions</h2>
    <p class="subtitle">Quêtes, missions et objectifs principaux qui guident la progression du joueur.</p>
  </section>

  <section id="technologie">
    <h2>Technologie / Évolution</h2>
    <p class="subtitle">Technologies et évolutions disponibles, organisées par paliers de progression (tiers).</p>
  </section>
</main>


<script>
const categories = {
  Faction: [
    "Rat",
    "Robot",
    "Tortue"
  ],
  Univers: [
    "Beginning"
  ],
  Gameplay: [
    "CityBuilder",
    "DungeonCrawler",
    "TurnBaseCombat"
  ],
  Histoire: [  ],
  Objectif: [ ],
  Ressource: [ ],
  Technologie: [ ]
};

function showSection(id) {
  const sections = document.querySelectorAll('section');
  sections.forEach(sec => sec.classList.remove('active'));
  document.getElementById(id).classList.add('active');

  let section = document.getElementById(id);

  // Supprime ancienne liste, barre et contenu dynamique
  let oldList = section.querySelector('ul');
  if (oldList) oldList.remove();
  let oldHr = section.querySelector('.choice-separator');
  if (oldHr) oldHr.remove();
  let oldContent = section.querySelector('.dynamic-content');
  if (oldContent) oldContent.remove();

  // Crée la nouvelle liste
  let list = document.createElement('ul');
  section.appendChild(list);

  let noms = [];
  let dossier = "";
  if (id === 'faction') { noms = categories.Faction; dossier = "Faction"; }
  if (id === 'univers') { noms = categories.Univers; dossier = "Univers"; }
  if (id === 'gameplay') { noms = categories.Gameplay; dossier = "Gameplay"; }
  if (id === 'histoire') { noms = categories.Histoire; dossier = "Histoire"; }
  if (id === 'objectif') { noms = categories.Objectif; dossier = "Objectif"; }
  if (id === 'ressource') { noms = categories.Ressource; dossier = "Ressource"; }
  if (id === 'technologie') { noms = categories.Technologie; dossier = "Technologie"; }

  noms.forEach(name => {
    const li = document.createElement('li');
    const a = document.createElement('a');
    a.textContent = name;
    a.href = "#";
    a.onclick = function(e) {
      e.preventDefault();
      // Ajoute le contenu chargé sous la barre horizontale
      let contentDiv = section.querySelector('.dynamic-content');
      if (!contentDiv) {
        contentDiv = document.createElement('div');
        contentDiv.className = 'dynamic-content';
        section.appendChild(contentDiv);
      }
      fetch(dossier + '/' + name + '.html')
        .then(response => response.text())
        .then(html => {
          contentDiv.innerHTML = html;
        })
        .catch(() => {
          contentDiv.innerHTML = "<em>Impossible de charger le contenu.</em>";
        });
    };
    li.appendChild(a);
    list.appendChild(li);
  });

  // Ajoute la barre horizontale après la liste
  if (noms.length > 0) {
    const hr = document.createElement('hr');
    hr.className = 'choice-separator';
    section.appendChild(hr);
  }

  // Ajoute le conteneur pour le contenu dynamique (vide au départ)
  const contentDiv = document.createElement('div');
  contentDiv.className = 'dynamic-content';
  section.appendChild(contentDiv);
}
</script>



</body>
</html>
